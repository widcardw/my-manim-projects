前两期视频我们大致讲解了updater的常用方法
这期视频要讲述的是一些不太一样的用法

我们来到教程文档,在animation/update中,我们看到的是
UpdateFromFunc,UpdateFromAlphaFunc,MaintainPosition'RelativeTo这三个类
由于最后一个不常用,所以我们也就不再多讲,直接看教程文档就行了

首先,关于UpdateFromFunc,这是我从教程文档复制下来的代码
把它放到self.play()中,将物件按照传入的函数的方式进行更新
在一些变换比较复杂的情况下,我们可能会选择用这个方法

本来这里插入了一个旋轮线的例子,但是后来发现没有很好的代表性,难度也比较大,于是就删除了
给大家看一下效果和代码的截图,有兴趣的大家可以自行研究

在这里我们做一个动画的对比,我们的目的是让正方形向右移动的同时进行翻转
第一个使用UpdateFromFunc调用更新函数,
第二第三个使用shift方法和Rotating的类
第四个使用shift和rotate的方法

我们发现只有第一个正方形能够按照我们的期望进行变换
至于第二第三这两个为什么只会播放一种动画,可能稍微有些复杂
第四个正方形,有了第一期target来解释就很容易理解了
第四个正方形在生成动画时只是创建了一个最终的目标
即向右平移10个单位,旋转180度的目标
而第一个正方形在每一帧都会创建一个目标,然后向这个目标进行转换

其实UpdateFromFunc用的不算特别多,而且很多效果都可以直接用dt来代替
而且dt会更方便一点
更常用的是与之相关的UpdateFromAlphaFunc
不过其中包含了一个参数alpha
首先要讲一讲alpha是什么
它不是两直线的夹角,而是一个取值为0~1的小数,代表的是百分比
另外还有一个与它关系比较密切的方法:point_from_proportion()
这里面传入的参数就是一个0~1的数,返回的是这个物件上面的一个坐标
在一个例子中应该能够看的更清晰
有三条曲线,我们让三个点分别顺着曲线从开头走到结束
这里的圆是闭合曲线,所以它的开头与结束是重合的

另外再提一下,这些物件都包含在一个叫vectorized_math_object里面
而这些看上去是一笔画出的曲线,实际上都是拿若干条贝塞尔曲线拼接而成的
每条贝塞尔曲线都是用四个锚点生成的,最后再将这些曲线拼接
由于我的技术能力有限,只能给大家稍微呈现一些物件的锚点
例如一条线段有四个锚点,一个圆由八段贝塞尔曲线拼接,共有32个锚点
当然,我们也可以任意的操作锚点,让曲线变成我们所需要的样子
在这里我也放上一些翻车画面,
因为当时我还不知道参数方程的图像是每个0.01长度的步进都生成一段贝塞尔曲线
结果导致生成了一千多个锚点

好了回到正题
point_from_proportion这个方法传入一个0~1的小数alpha,
会返回曲线上alpha对应百分比的位置坐标,
alpha取0.5就是返回中点,取1/4就是返回第一个四等分点
而UpdateFromAlphaFunc就是在动画中将alpha从0播放到1
我们仍然举刚才正方形翻转的例子(例子来源于贝多芬的教程,bv号会放在视频的下方)
保存一下正方形的状态
然后定义动画函数,移动到alpha的位置,并旋转一个角度
最后生成一下动画
这里依然放一下这个变换的分部过程

接下来我们看一个幼儿园作业vlog里面的包络线
首先是定点和定圆,然后是动点和动圆,再定义一个包络线的组合
在更新函数中,我们让动点沿着定圆的轨迹运动,动圆的与此同时也进行更新
最后在组合中加入包络线,测试一下动画,然后翻车了
大家一定要仔细检查代码啊,要不然就和我一样了
这里把圆移动到点p的位置,然后在生成动画的时候把画布稍微改一下

好了,关于updater的教程,可能要先告一段落了,
到时候再问问幼儿园群友有什么还需要再讲讲
因为马上就要开学了,我有可能会在开学之后再更新一期视频来扫一下尾
顺便做一点有趣的使用例

感谢大家的收看,再会
